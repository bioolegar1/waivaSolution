@use 'sass:map';
@use 'variables' as *;
@use 'mixins' as *;
@use 'animations' as *;

// Container flexível que centraliza os cards
.comparison-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  // LÓGICA MOBILE: Removemos o gap para conectar os dois cards visualmente
  gap: 0;
  padding: spacing('xl') 0;

  // LÓGICA DESKTOP: Mantém o padrão original
  @include respond-to('lg') {
    flex-direction: row;
    align-items: stretch;
  }
}

// Estilo Base do Card
.compare-card {
  width: 100%;
  max-width: 500px;
  border-radius: map.get($border-radius, '2xl');

  // LÓGICA MOBILE: Padding menor para telas pequenas
  padding: spacing('xl') spacing('lg');

  display: flex;
  flex-direction: column;
  position: relative;
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);

  @include respond-to('lg') {
    // LÓGICA DESKTOP: Restaura o padding original de 2xl
    padding: spacing('2xl');
  }
}

// === CARD ANTES (O Problema) ===
.card-before {
  background-color: #f1f5f9;
  border: 1px solid #cbd5e1;
  color: color('gray');
  z-index: 1;

  // LÓGICA MOBILE: Achata a base do card para ele entrar por baixo do card azul
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  border-bottom: none;
  padding-bottom: spacing('3xl'); // Dá um respiro extra porque o card azul vai subir sobre ele

  // --- ADIÇÃO: Efeito Hover ---
  &:hover {
    // Mobile: Leve levantamento e sombra sutil
    transform: translateY(-5px);
    box-shadow: 0 10px 20px -10px rgba(color('gray'), 0.2);

    @include respond-to('lg') {
      // Desktop: Mantém a escala original (0.95) e adiciona o levantamento
      transform: scale(0.95) translateY(-8px);
      box-shadow: 0 15px 30px -12px rgba(color('gray'), 0.3);
      border-color: color('gray');
    }
  }

  @include respond-to('lg') {
    // LÓGICA DESKTOP: Restaura toda a sua configuração original
    margin-right: -40px;
    margin-bottom: 0;
    padding-bottom: spacing('2xl');
    transform: scale(0.95);
    border-bottom: 1px solid #cbd5e1; // Devolve a borda inferior
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: map.get($border-radius, '2xl'); // Arredonda a base esquerda novamente
  }

  .card-header {
    border-bottom: 1px solid #cbd5e1;
    margin-bottom: spacing('xl');
    padding-bottom: spacing('lg');
  }

  .stat-number {
    color: color('dark-gray');
  }
}

// === CARD DEPOIS (A Solução) ===
.card-after {
  background: linear-gradient(135deg, color('primary') 0%, color('primary-dark') 100%);
  color: color('white');
  z-index: 10;
  // LÓGICA MOBILE: Sombra levemente menor
  box-shadow: 0 15px 30px -10px rgba(color('primary'), 0.4);
  border: 1px solid rgba(255, 255, 255, 0.1);

  // LÓGICA MOBILE: Puxa o card para cima, sobrepondo o card cinza
  margin-top: -20px;

  // --- ADIÇÃO: Efeito Hover ---
  &:hover {
    // Mobile: Levanta mais e intensifica a sombra colorida
    transform: translateY(-8px);
    box-shadow: 0 25px 50px -15px rgba(color('primary'), 0.5);
    border-color: rgba(255, 255, 255, 0.3);

    @include respond-to('lg') {
      // Desktop: Mantém a escala original aumentada (1.05) e levanta
      transform: scale(1.05) translateY(-12px);
      box-shadow: 0 40px 80px -20px rgba(color('primary'), 0.6);
    }
  }

  @include respond-to('lg') {
    // LÓGICA DESKTOP: Restaura toda a sua configuração original
    margin-top: 0;
    transform: scale(1.05);
    margin-left: -20px;
    box-shadow: 0 25px 50px -12px rgba(color('primary'), 0.5);
  }

  .card-header {
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    margin-bottom: spacing('xl');
    padding-bottom: spacing('lg');
  }

  .stat-number {
    color: color('white');
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .stat-label {
    color: rgba(255, 255, 255, 0.8) !important;
  }
}

// Tipografia Interna
.card-title {
  // LÓGICA MOBILE: Fonte base
  font-size: font-size('base');
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: spacing('md');
  opacity: 0.8;

  @include respond-to('lg') {
    // LÓGICA DESKTOP: Fonte grande
    font-size: font-size('lg');
  }
}

.stat-block {
  display: flex;
  flex-direction: column;
}

.stat-number {
  // LÓGICA MOBILE: Reduz de 48px para ~35px (2.2rem) para não estourar a tela
  font-size: 2.2rem;
  font-weight: 800;
  line-height: 1;
  margin-bottom: spacing('xs');
  letter-spacing: -0.02em;

  @include respond-to('lg') {
    // LÓGICA DESKTOP: Restaura os 48px
    font-size: 3rem;
  }
}

.stat-label {
  font-size: font-size('sm');
  font-weight: 500;
}

// Lista de Pontos
.points-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;

  // LÓGICA MOBILE: Menos espaço entre os itens no mobile
  gap: spacing('sm');

  @include respond-to('lg') {
    // LÓGICA DESKTOP
    gap: spacing('md');
  }
}

.point-item {
  display: flex;
  align-items: flex-start;
  gap: spacing('md');

  // LÓGICA MOBILE: Fonte ligeiramente menor
  font-size: 0.9rem;
  line-height: 1.4;

  @include respond-to('lg') {
    // LÓGICA DESKTOP
    font-size: 1rem;
    line-height: 1.5;
  }
}

// Ícones (Checks e X)
.icon-box {
  flex-shrink: 0;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;

  &.icon-negative {
    background-color: #cbd5e1;
    color: color('gray');
  }

  &.icon-positive {
    background-color: color('white');
    color: color('primary');
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
}

// Brilho decorativo no card azul
.glow-effect {
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at top right, rgba(255,255,255,0.15), transparent 40%);
  pointer-events: none;
}